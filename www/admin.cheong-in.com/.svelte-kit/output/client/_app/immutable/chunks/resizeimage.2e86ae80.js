function w(n,r,t){return new Promise((o,a)=>{const s=new Image;s.onload=()=>{let e=s.width,c=s.height;e>r&&(c*=r/e,e=r),c>t&&(e*=t/c,c=t);const d=document.createElement("canvas");d.width=e,d.height=c,d.getContext("2d").drawImage(s,0,0,e,c),d.toBlob(l=>{o(l)},n.type)},s.onerror=e=>{a(e)};const i=new FileReader;i.onload=e=>{s.src=e.target.result},i.onerror=e=>{a(e)},i.readAsDataURL(n)})}const h=async(n,r,t)=>await g(await w(n,r,t)),g=n=>new Promise((r,t)=>{const o=new FileReader;o.onloadend=()=>{const a=o.result;r(a)},o.onerror=a=>{t(a)},o.readAsDataURL(n)});export{h as r};
